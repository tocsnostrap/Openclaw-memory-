import { ZodTypeAny, z } from "zod/v3";
import { JSONSchema7 } from "json-schema";

//#region src/types.d.ts
type Serializable = {
  [key: string]: Serializable;
} | Serializable[] | string | number | boolean | null;
type JsonSchema = JsonSchemaObject | boolean;
type JsonSchemaObject = JSONSchema7;
type ParserSelector = (schema: JsonSchemaObject, refs: Refs) => ZodTypeAny;
type ParserOverride = (schema: JsonSchemaObject, refs: Refs) => ZodTypeAny | undefined;
type JsonSchemaToZodOptions = {
  withoutDefaults?: boolean;
  withoutDescribes?: boolean;
  parserOverride?: ParserOverride;
  depth?: number;
};
type Refs = JsonSchemaToZodOptions & {
  path: Array<string | number>;
  seen: Map<object | boolean, {
    n: number;
    r: ZodTypeAny | undefined;
  }>;
};
//#endregion
//#region src/json-schema-to-zod.d.ts
declare const jsonSchemaToZod: (schema: JsonSchema, options?: JsonSchemaToZodOptions) => z.ZodType;
/**
 * A simplified type for Zod raw shapes that avoids deep type instantiation issues.
 * This is compatible with ZodRawShape but uses a simpler type signature.
 */
type SimpleZodRawShape = Record<string, ZodTypeAny>;
/**
 * Converts a JSON Schema object to a Zod raw shape.
 * This is useful when you need the shape object (e.g., `{ name: z.string(), age: z.number() }`)
 * rather than a complete ZodObject schema.
 *
 * This is particularly useful for APIs that expect ZodRawShape instead of ZodType,
 * such as the Claude Agent SDK's `tool()` function.
 *
 * @param schema - The JSON Schema to convert (must be an object schema)
 * @param options - Optional configuration for the conversion
 * @returns A Zod raw shape object with property keys mapped to Zod types
 */
declare const jsonSchemaToZodShape: (schema: JsonSchema, options?: JsonSchemaToZodOptions) => SimpleZodRawShape;
//#endregion
export { JsonSchema, JsonSchemaObject, JsonSchemaToZodOptions, ParserOverride, ParserSelector, Refs, Serializable, jsonSchemaToZod, jsonSchemaToZodShape };